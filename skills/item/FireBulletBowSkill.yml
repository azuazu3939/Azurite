Azuriter_ファイアバレットボウ_Skills:
  Cooldown: 0.2
  Conditions:
  - wearing{s=HAND;i=Azuriter_ファイアバレットボウ}
  - hasMana{a=>20;
    onFail=[
      - message{m="&cマナが足りません。"} @self 
    ]}
  - matCooldown{m=BOW} false 
  Skills:
  - setMaterialCooldown{m=BOW;d=4} @self
  - modifyMana{a=-20} @self
  - aura{ms=100;i=10;t=40;rd=true;n=Azuriter_ファイアバレットボウ;
    oe=[ 
      - setVar{k=skill.aura_regen;a="<skill.var.aura-stacks>";t=INTEGER} @self
      - modifyMana{a=0.1;m=true} @self ?!varrange{k=skill.aura_regen;r=<5}
      - modifyMana{a=0.1;m=true;delay=1} @self ?!varrange{k=skill.aura_regen;r=<10}
      - modifyMana{a=0.1;m=true;delay=2} @self ?!varrange{k=skill.aura_regen;r=<15}
      - modifyMana{a=0.1;m=true;delay=3} @self ?!varrange{k=skill.aura_regen;r=<20}
      - modifyMana{a=0.1;m=true;delay=4} @self ?!varrange{k=skill.aura_regen;r=<25}
    ];mc=true} @self
  - setVar{k=skill.damage;a="<caster.damage> * 1.35";t=FLOAT} @self
  - setVar{k=caster.shot_ct;a="<caster.var.shot_ct|0> + 1";t=INTEGER} @self
  - setVar{k=skill.damage;a="<skill.var.damage> * 0.98";t=FLOAT;repeat=<caster.var.shot_ct|0>;repeati=0} @self ?!hasAura{n=Azuriter_RangeWeaponDamageEnsure}
  - delay 2
  - skill{s=Azuriter_ファイアバレットボウ_Skills_Shot} @self
  - delay 400
  - setVar{k=caster.shot_ct;a="<caster.var.shot_ct|0> - 1";t=INTEGER} @self
  - setVar{k=caster.shot_ct;a="0";t=INTEGER} @self ?varrange{k=caster.shot_ct;r=<0}


Azuriter_ファイアバレットボウ_Skills_Shot:
  Skills:
  - missile{
    os=[
      - sound{s=entity.arrow.shoot;audience=caster} @self
      - sound{s=entity.arrow.shoot;audience=caster;v=0.75;p=2} @self
      - sound{s=entity.arrow.shoot;audience=caster;p=0.8} @self
      - sound{s=block.bell.use;p=2;v=0.45;audience=caster;delay=1} @self
    ];
    ot=[
      - modifyprojectile{t=INERTIA;a=MULTIPLY;v=0.95} @self 
      - e:p{p=flame;a=1;audience=caster} @origin 
      - modifyprojectile{t=VELOCITY;a=MULTIPLY;v=1.025} @self 
    ];
    oh=[
      - aura{n="Azuriter_ファイアバレットボウ_Skills_Shot<caster.var.shot_ct|0>";t=20;i=10}
      - damage{a=<skill.var.damage>;pi=true;ii=true} 
      - e:p{p=crit_magic;a=10;vs=0.5;hs=0.5;audience=caster}
      - sound{s=entity.arrow.hit;audience=caster}
      - sound{s=entity.arrow.hit_player;audience=caster;v=0.75} @self
      - setVar{k=target.boms;a="<target.var.boms|0> + 1";t=INTEGER}

      - projectile{
        ot=[
          - e:p{p=explosion;a=1} @origin 
        ];
        oh=[
          - damage{a="<caster.damage> * 1.25";pi=true;ii=true}
        ];
        c=[
          - isMythicMob true 
          - isliving true
        ];
        os=[
          - sound{s=entity.generic.explode;p=2;v=0.25} @origin 
        ];
        v=24;i=1;vr=2;hr=2;se=false;hp=false;hnp=true;sfo=2;mr=16} @ringAroundOrigin{r=16;p=12} ?varrange{k=target.boms;r=5}
      - setVar{k=target.boms;a="0";t=INTEGER} ?varrange{k=target.boms;r=5}
    ];
    c=[
      - isliving true
      - isMythicMob true
      - hasAura{n="Azuriter_ファイアバレットボウ_Skills_Shot<caster.var.shot_ct|0>"} false
    ];
    v=24;in=12;vr=2.5;hr=2.5;hp=false;hnp=true;i=1;mr=36;b=ARROW;se=false;vo=0.285;mr=36} @TL